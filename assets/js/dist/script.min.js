var nja=function(){var t,a={},e="nja-group",n="nja-item",r="nja-active",u="nja-count";return a.init=function(n){t=n;for(var r=document.querySelectorAll("[data-"+e+"]"),u=0;u<r.length;u++)for(var i=a.getItems(r[u]),o=0;o<i.length;o++)a.setCountData(i[o]),i[o].addEventListener("click",a.action.bind(null,i[o],r[u]),!1)},a.setCountData=function(t,a){var e=t.querySelector("[data-"+u+"]"),n=parseInt(e.innerHTML);t.hasAttribute("data-nja-active")&&n--,e.setAttribute("data-"+u,n)},a.action=function(t,e){var n=t.hasAttribute("data-"+r),i=t.querySelector("[data-"+u+"]").getAttribute("data-"+u);e.setAttribute("data-nja-loading",""),a.clear(e,i),a.toggleData(t,e,n,i),a.ajax(n,i,t,e)},a.clear=function(t,e){for(var n=a.getItems(t),r=0;r<n.length;r++)a.clearCounter(n[r],e),a.clearValue(n[r])},a.getItems=function(t){return t.querySelectorAll("[data-"+n+"]")},a.clearValue=function(t){t.removeAttribute("data-"+r)},a.clearCounter=function(t,a){var e=t.querySelector("[data-"+u+"]");e.innerHTML=e.getAttribute("data-"+u)},a.countUp=function(t,a){t.querySelector("[data-"+u+"]").innerHTML=parseInt(a)+1},a.toggleData=function(t,e,n,u){n?(a.clearValue(t),a.clearCounter(t),e.setAttribute("data-nja-value",0)):(t.setAttribute("data-"+r,""),a.countUp(t,u),e.setAttribute("data-nja-value",t.getAttribute("data-nja-item")))},a.ajax=function(a,e,n,r){var u=new XMLHttpRequest;u.onreadystatechange=function(){u.readyState==XMLHttpRequest.DONE&&200==u.status&&(r.removeAttribute("data-nja-loading",""),t.ajaxCallback(a,e,n,r))};var i=r.getAttribute("data-nja-group");u.open("GET","nja/"+r.getAttribute("data-nja-value")+"/"+i,!0),u.send()},a}();